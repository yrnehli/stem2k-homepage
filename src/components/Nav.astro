---
import logo from "/public/logo.png";
---

<nav
  id="main-nav"
  class="sticky top-0 z-50 flex flex-col justify-between items-center py-4 px-6 backdrop-blur-md transition-all border-white/0 border-b"
>
  <div class="max-w-5xl flex justify-between items-center w-full">
    <div class="flex items-center gap-x-3">
      <img src={logo.src} alt="stem2k" class="size-8 shadow" />
      <a href="/" class="text-xl font-bold">stem2k</a>
    </div>
    <div class="flex items-center gap-x-6">
      <a
        href="/changelog"
        class="text-sm hover:text-[#decdf7] transition-colors hidden sm:block"
        >Changelog</a
      >
      <a
        href="#features"
        class="text-sm hover:text-[#decdf7] transition-colors hidden sm:block"
        >Features</a
      >
      <a
        href="#support"
        class="text-sm hover:text-[#decdf7] transition-colors hidden sm:block"
        >Support</a
      >
      <a href="#pricing" class="text-sm hover:text-[#decdf7] transition-colors"
        >Pricing</a
      >
      <a
        href="https://app.stem2k.com"
        class="px-4 py-1.5 rounded-full bg-[#9D81CE] text-sm hover:bg-[#9D81CE]/80 transition-colors font-medium shadow"
        >Log in</a
      >
    </div>
  </div>
</nav>

<script>
  const nav = document.getElementById("main-nav");
  let lastScrollY = window.scrollY;

  function updateNav() {
    if (window.scrollY > 10) {
      nav?.classList.add("!border-white/10");
    } else {
      nav?.classList.remove("!border-white/10");
    }
    lastScrollY = window.scrollY;
  }

  window.addEventListener("scroll", updateNav);
  updateNav(); // Check initial state
</script>
